@page
@model CitasEPS.Pages.EmergencyModel
@{
    ViewData["Title"] = "Urgencias - VitalCare";
}

<!-- Emergency Alert Banner -->
<div class="alert alert-danger alert-dismissible fade show m-0 text-center py-3" role="alert" style="border-radius: 0;">
    <div class="container">
        <h5 class="mb-1">
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            <strong>LÍNEA DE EMERGENCIAS 24/7:</strong> 
            <a href="tel:+573203465135" class="text-decoration-none text-white fw-bold">+57 320 346 5135</a>
        </h5>
        <small>En caso de emergencia médica grave, llama inmediatamente o dirígete al hospital más cercano</small>
    </div>
</div>

<!-- Hero Section for Emergency -->
<div class="container-fluid bg-gradient-danger text-white text-center py-5 mb-5 shadow-lg hero-section hero-rounded" style="background-image: linear-gradient(135deg, rgba(220,53,69,0.9), rgba(176,42,55,0.9)), url('/images/INDEX.png'); background-size: cover; background-position: center center;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="hero-overlay" style="background-color: rgba(80, 0, 20, 0.85); padding: 4rem 1.5rem; display: inline-block; border-radius: 1rem; max-width: 90%; width: 800px;">
                    <h1 class="display-2 fw-bolder text-shadow-custom mb-4">Emergencias Médicas</h1>
                    <p class="lead fs-3 mb-4 text-shadow-custom">Atención inmediata las 24 horas. Tu salud no puede esperar.</p>
                    <div class="service-badges mb-4">
                        <span class="badge bg-light text-danger fs-6 me-2 service-badge"><i class="bi bi-heart-pulse-fill me-1"></i>Respuesta Inmediata</span>
                        <span class="badge bg-warning fs-6 me-2 service-badge"><i class="bi bi-telephone-fill me-1"></i>24/7 Disponible</span>
                        <span class="badge bg-success fs-6 service-badge"><i class="bi bi-hospital-fill me-1"></i>Red Nacional</span>
                    </div>
                    <div class="emergency-cta mt-4">
                        <a href="tel:+573203465135" class="btn btn-light btn-lg me-3 pulse-animation">
                            <i class="bi bi-telephone-fill me-2"></i>LLAMAR EMERGENCIAS
                        </a>
                        <button class="btn btn-outline-light btn-lg" data-bs-toggle="modal" data-bs-target="#quickAssessmentModal">
                            <i class="bi bi-clipboard-pulse me-2"></i>Evaluación Rápida
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Emergency Types -->
<div class="container mb-5">
    <div class="row text-center mb-5">
        <div class="col-lg-8 mx-auto">
            <h2 class="display-5 fw-bold text-danger mb-3">¿Qué Constituye una Emergencia?</h2>
            <p class="lead text-muted">Reconoce las señales de alarma que requieren atención médica inmediata</p>
        </div>
    </div>
    
    <div class="row g-4">
        <div class="col-lg-6 col-md-6">
            <div class="card h-100 shadow-lg border-danger emergency-card">
                <div class="card-header bg-danger text-white text-center py-3">
                    <h5 class="fw-bold mb-0">
                        <i class="bi bi-heart-pulse-fill me-2"></i>Emergencias Cardiovasculares
                    </h5>
                </div>
                <div class="card-body p-4">
                    <div class="emergency-symptoms">
                        <div class="symptom-item d-flex align-items-center mb-3">
                            <div class="symptom-icon bg-danger text-white rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                <i class="bi bi-heart-fill"></i>
                            </div>
                            <div>
                                <h6 class="fw-bold mb-1">Dolor de Pecho Intenso</h6>
                                <small class="text-muted">Presión, aplastamiento o ardor en el pecho</small>
                            </div>
                        </div>
                        <div class="symptom-item d-flex align-items-center mb-3">
                            <div class="symptom-icon bg-warning text-white rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                <i class="bi bi-lungs-fill"></i>
                            </div>
                            <div>
                                <h6 class="fw-bold mb-1">Dificultad para Respirar</h6>
                                <small class="text-muted">Falta de aire repentina o grave</small>
                            </div>
                        </div>
                        <div class="symptom-item d-flex align-items-center mb-3">
                            <div class="symptom-icon bg-info text-white rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                <i class="bi bi-arrows-fullscreen"></i>
                            </div>
                            <div>
                                <h6 class="fw-bold mb-1">Dolor que se Extiende</h6>
                                <small class="text-muted">A brazo, cuello, mandíbula o espalda</small>
                            </div>
                        </div>
                    </div>
                    <div class="action-required bg-light p-3 rounded mt-3">
                        <strong class="text-danger">ACCIÓN INMEDIATA:</strong> Llama al 911 o dirígete al hospital más cercano
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-6 col-md-6">
            <div class="card h-100 shadow-lg border-warning emergency-card">
                <div class="card-header bg-warning text-dark text-center py-3">
                    <h5 class="fw-bold mb-0">
                        <i class="bi bi-brain me-2"></i>Emergencias Neurológicas
                    </h5>
                </div>
                <div class="card-body p-4">
                    <div class="emergency-symptoms">
                        <div class="symptom-item d-flex align-items-center mb-3">
                            <div class="symptom-icon bg-primary text-white rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                <i class="bi bi-lightning-fill"></i>
                            </div>
                            <div>
                                <h6 class="fw-bold mb-1">Debilidad Repentina</h6>
                                <small class="text-muted">Especialmente en un lado del cuerpo</small>
                            </div>
                        </div>
                        <div class="symptom-item d-flex align-items-center mb-3">
                            <div class="symptom-icon bg-success text-white rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                <i class="bi bi-chat-square-text-fill"></i>
                            </div>
                            <div>
                                <h6 class="fw-bold mb-1">Problemas del Habla</h6>
                                <small class="text-muted">Dificultad para hablar o entender</small>
                            </div>
                        </div>
                        <div class="symptom-item d-flex align-items-center mb-3">
                            <div class="symptom-icon bg-secondary text-white rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                <i class="bi bi-eye-fill"></i>
                            </div>
                            <div>
                                <h6 class="fw-bold mb-1">Pérdida de Visión</h6>
                                <small class="text-muted">Súbita en uno o ambos ojos</small>
                            </div>
                        </div>
                    </div>
                    <div class="action-required bg-light p-3 rounded mt-3">
                        <strong class="text-warning">ACCIÓN INMEDIATA:</strong> Síntomas de ACV - cada minuto cuenta
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Emergency Contacts -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-lg-8 mx-auto">
                <h2 class="display-6 fw-bold text-primary mb-3">Contactos de Emergencia</h2>
                <p class="lead text-muted">Números importantes que debes tener siempre a mano</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="card h-100 shadow-sm border-danger emergency-contact-card">
                    <div class="card-body text-center p-4">
                        <div class="emergency-contact-icon bg-danger text-white rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <i class="bi bi-hospital-fill fs-1"></i>
                        </div>
                        <h5 class="fw-bold text-danger">VitalCare Emergencias</h5>
                        <h3 class="fw-bold text-success">+57 320 346 5135</h3>
                        <p class="text-muted mb-3">Línea directa de emergencias médicas 24/7</p>
                        <div class="contact-features">
                            <small class="d-block text-success mb-1"><i class="bi bi-check-circle-fill me-1"></i>Atención inmediata</small>
                            <small class="d-block text-info"><i class="bi bi-geo-alt-fill me-1"></i>Geolocalización GPS</small>
                        </div>
                        <a href="tel:+573203465135" class="btn btn-danger mt-3 w-100">
                            <i class="bi bi-telephone-fill me-2"></i>Llamar Ahora
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="card h-100 shadow-sm border-warning emergency-contact-card">
                    <div class="card-body text-center p-4">
                        <div class="emergency-contact-icon bg-warning text-dark rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <i class="bi bi-truck-front-fill fs-1"></i>
                        </div>
                        <h5 class="fw-bold text-warning">Ambulancia Nacional</h5>
                        <h3 class="fw-bold text-success">123</h3>
                        <p class="text-muted mb-3">Servicio nacional de ambulancias</p>
                        <div class="contact-features">
                            <small class="d-block text-success mb-1"><i class="bi bi-check-circle-fill me-1"></i>Servicio gratuito</small>
                            <small class="d-block text-info"><i class="bi bi-shield-fill me-1"></i>Cobertura nacional</small>
                        </div>
                        <a href="tel:123" class="btn btn-warning text-dark mt-3 w-100">
                            <i class="bi bi-telephone-fill me-2"></i>Llamar 123
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="card h-100 shadow-sm border-primary emergency-contact-card">
                    <div class="card-body text-center p-4">
                        <div class="emergency-contact-icon bg-primary text-white rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <i class="bi bi-shield-fill-check fs-1"></i>
                        </div>
                        <h5 class="fw-bold text-primary">Policía Nacional</h5>
                        <h3 class="fw-bold text-success">123</h3>
                        <p class="text-muted mb-3">Emergencias de seguridad y orden público</p>
                        <div class="contact-features">
                            <small class="d-block text-success mb-1"><i class="bi bi-check-circle-fill me-1"></i>Respuesta rápida</small>
                            <small class="d-block text-info"><i class="bi bi-geo-fill me-1"></i>Ubicación exacta</small>
                        </div>
                        <a href="tel:123" class="btn btn-primary mt-3 w-100">
                            <i class="bi bi-telephone-fill me-2"></i>Llamar 123
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="card h-100 shadow-sm border-success emergency-contact-card">
                    <div class="card-body text-center p-4">
                        <div class="emergency-contact-icon bg-success text-white rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <i class="bi bi-fire fs-1"></i>
                        </div>
                        <h5 class="fw-bold text-success">Bomberos</h5>
                        <h3 class="fw-bold text-success">119</h3>
                        <p class="text-muted mb-3">Emergencias de incendios y rescate</p>
                        <div class="contact-features">
                            <small class="d-block text-success mb-1"><i class="bi bi-check-circle-fill me-1"></i>Equipo especializado</small>
                            <small class="d-block text-info"><i class="bi bi-tools me-1"></i>Rescate técnico</small>
                        </div>
                        <a href="tel:119" class="btn btn-success mt-3 w-100">
                            <i class="bi bi-telephone-fill me-2"></i>Llamar 119
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- What to Do -->
<div class="container py-5">
    <div class="row text-center mb-5">
        <div class="col-lg-8 mx-auto">
            <h2 class="display-6 fw-bold text-primary mb-3">Qué Hacer en una Emergencia</h2>
            <p class="lead text-muted">Pasos importantes que pueden salvar vidas</p>
        </div>
    </div>
    
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <div class="emergency-steps">
                <div class="step-item d-flex align-items-start mb-4 p-4 bg-light rounded-3">
                    <div class="step-number bg-danger text-white rounded-circle me-4 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; min-width: 50px;">
                        <strong>1</strong>
                    </div>
                    <div>
                        <h5 class="fw-bold text-danger mb-2">Mantén la Calma</h5>
                        <p class="mb-0">Respira profundo y evalúa la situación. Tu tranquilidad es crucial para tomar decisiones correctas.</p>
                    </div>
                </div>
                
                <div class="step-item d-flex align-items-start mb-4 p-4 bg-light rounded-3">
                    <div class="step-number bg-warning text-dark rounded-circle me-4 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; min-width: 50px;">
                        <strong>2</strong>
                    </div>
                    <div>
                        <h5 class="fw-bold text-warning mb-2">Llama Inmediatamente</h5>
                        <p class="mb-0">Contacta a VitalCare Emergency (+57 320 346 5135) o servicios de emergencia (123) sin demora.</p>
                    </div>
                </div>
                
                <div class="step-item d-flex align-items-start mb-4 p-4 bg-light rounded-3">
                    <div class="step-number bg-primary text-white rounded-circle me-4 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; min-width: 50px;">
                        <strong>3</strong>
                    </div>
                    <div>
                        <h5 class="fw-bold text-primary mb-2">Proporciona Información Clara</h5>
                        <p class="mb-0">Ubicación exacta, naturaleza de la emergencia, número de personas afectadas y estado de consciencia.</p>
                    </div>
                </div>
                
                <div class="step-item d-flex align-items-start mb-4 p-4 bg-light rounded-3">
                    <div class="step-number bg-success text-white rounded-circle me-4 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; min-width: 50px;">
                        <strong>4</strong>
                    </div>
                    <div>
                        <h5 class="fw-bold text-success mb-2">Sigue las Instrucciones</h5>
                        <p class="mb-0">Escucha atentamente las indicaciones del operador y sigue sus instrucciones al pie de la letra.</p>
                    </div>
                </div>
                
                <div class="step-item d-flex align-items-start p-4 bg-light rounded-3">
                    <div class="step-number bg-info text-white rounded-circle me-4 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; min-width: 50px;">
                        <strong>5</strong>
                    </div>
                    <div>
                        <h5 class="fw-bold text-info mb-2">Permanece en Línea</h5>
                        <p class="mb-0">No cuelgues hasta que te lo indiquen. El operador puede necesitar darte más instrucciones.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Emergency Statistics -->
<section class="py-5 bg-gradient-danger text-white">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-lg-8 mx-auto">
                <h2 class="display-6 fw-bold mb-3">Nuestro Impacto en Emergencias</h2>
                <p class="lead text-white-50">Estadísticas que salvan vidas</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-md-3">
                <div class="text-center">
                    <div class="emergency-stat-number display-4 fw-bold mb-2">< 3 min</div>
                    <p class="lead mb-1">Tiempo de Respuesta</p>
                    <small class="text-white-50">Promedio nacional en emergencias</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center">
                    <div class="emergency-stat-number display-4 fw-bold mb-2">24/7</div>
                    <p class="lead mb-1">Disponibilidad</p>
                    <small class="text-white-50">365 días del año</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center">
                    <div class="emergency-stat-number display-4 fw-bold mb-2">50+</div>
                    <p class="lead mb-1">Ciudades</p>
                    <small class="text-white-50">Cobertura nacional</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center">
                    <div class="emergency-stat-number display-4 fw-bold mb-2">95%</div>
                    <p class="lead mb-1">Éxito</p>
                    <small class="text-white-50">Tasa de resolución exitosa</small>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Quick Assessment Modal -->
<div class="modal fade" id="quickAssessmentModal" tabindex="-1" aria-labelledby="quickAssessmentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="quickAssessmentModalLabel">
                    <i class="bi bi-clipboard-pulse me-2"></i>Evaluación Rápida de Emergencia
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-warning">
                    <i class="bi bi-exclamation-triangle-fill me-2"></i>
                    <strong>Importante:</strong> Esta evaluación NO reemplaza la atención médica profesional. En caso de duda, llama inmediatamente al +57 320 346 5135
                </div>
                
                <div class="assessment-questions">
                    <div class="question mb-4">
                        <h6 class="fw-bold">¿La persona está consciente y puede responder?</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="consciousness" id="conscious-yes" value="yes">
                            <label class="form-check-label" for="conscious-yes">Sí, está consciente</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="consciousness" id="conscious-no" value="no">
                            <label class="form-check-label" for="conscious-no">No responde / Inconsciente</label>
                        </div>
                    </div>
                    
                    <div class="question mb-4">
                        <h6 class="fw-bold">¿Hay dificultad para respirar?</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="breathing" id="breathing-normal" value="normal">
                            <label class="form-check-label" for="breathing-normal">Respiración normal</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="breathing" id="breathing-difficult" value="difficult">
                            <label class="form-check-label" for="breathing-difficult">Dificultad para respirar</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="breathing" id="breathing-none" value="none">
                            <label class="form-check-label" for="breathing-none">No respira</label>
                        </div>
                    </div>
                    
                    <div class="question mb-4">
                        <h6 class="fw-bold">¿Hay sangrado visible?</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="bleeding" id="bleeding-none" value="none">
                            <label class="form-check-label" for="bleeding-none">No hay sangrado</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="bleeding" id="bleeding-minor" value="minor">
                            <label class="form-check-label" for="bleeding-minor">Sangrado menor</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="bleeding" id="bleeding-severe" value="severe">
                            <label class="form-check-label" for="bleeding-severe">Sangrado abundante</label>
                        </div>
                    </div>
                </div>
                
                <div class="assessment-result" id="assessmentResult" style="display: none;">
                    <!-- Result will be shown here -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-danger" onclick="assessEmergency()">Evaluar Situación</button>
                <a href="tel:+573203465135" class="btn btn-warning">
                    <i class="bi bi-telephone-fill me-2"></i>Llamar Emergencias
                </a>
            </div>
        </div>
    </div>
</div>

@section Styles {
    <style>
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @@keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }
        
        .emergency-card:hover {
            transform: translateY(-5px);
            transition: transform 0.3s ease;
        }
        
        .emergency-contact-card:hover {
            transform: scale(1.05);
            transition: transform 0.3s ease;
        }
    </style>
}

@section Scripts {
    <script>
        function assessEmergency() {
            const consciousness = document.querySelector('input[name="consciousness"]:checked')?.value;
            const breathing = document.querySelector('input[name="breathing"]:checked')?.value;
            const bleeding = document.querySelector('input[name="bleeding"]:checked')?.value;
            
            const resultDiv = document.getElementById('assessmentResult');
            let result = '';
            let urgencyLevel = 'low';
            
            if (consciousness === 'no' || breathing === 'none' || breathing === 'difficult' || bleeding === 'severe') {
                urgencyLevel = 'critical';
                result = `
                    <div class="alert alert-danger">
                        <h5><i class="bi bi-exclamation-triangle-fill me-2"></i>EMERGENCIA CRÍTICA</h5>
                        <p><strong>LLAMA INMEDIATAMENTE AL +57 320 346 5135 O 123</strong></p>
                        <p>Esta situación requiere atención médica inmediata. No pierdas tiempo.</p>
                    </div>
                `;
            } else if (consciousness === 'yes' && breathing === 'normal' && (bleeding === 'minor' || bleeding === 'none')) {
                urgencyLevel = 'low';
                result = `
                    <div class="alert alert-info">
                        <h5><i class="bi bi-info-circle-fill me-2"></i>SITUACIÓN ESTABLE</h5>
                        <p>La situación parece estable, pero si hay cualquier cambio o empeoramiento, llama inmediatamente.</p>
                        <p>Considera contactar a tu médico de cabecera o usar nuestra telemedicina.</p>
                    </div>
                `;
            }
            
            resultDiv.innerHTML = result;
            resultDiv.style.display = 'block';
        }
    </script>
} 
